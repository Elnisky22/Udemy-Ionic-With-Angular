"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[835],{835:(k,u,a)=>{a.r(u),a.d(u,{DiscoverPageModule:()=>D});var r=a(177),g=a(4341),n=a(7125),c=a(1313),e=a(9498),v=a(8591),h=a(5498);const d=i=>["/","places","tabs","discover",i];function m(i,s){1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",8),e.nrm(3,"ion-spinner",9),e.k0s()()())}function P(i,s){1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",10)(3,"p",11),e.EFF(4,"There are no bookable places available right now, try checking later!"),e.k0s()()()())}function f(i,s){if(1&i&&(e.j41(0,"ion-item",15)(1,"ion-thumbnail",1),e.nrm(2,"ion-img",12),e.k0s(),e.j41(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"h3"),e.EFF(7),e.nI1(8,"currency"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.k0s()()()),2&i){const o=s.$implicit;e.Y8G("routerLink",e.eq3(7,d,o.id)),e.R7$(2),e.Y8G("src",o.imageUrl),e.R7$(3),e.JRh(o.title),e.R7$(2),e.SpI("",e.bMT(8,5,o.price)," / Night"),e.R7$(3),e.JRh(o.description)}}function p(i,s){if(1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",10)(3,"ion-card",11)(4,"ion-card-header")(5,"ion-card-title"),e.EFF(6),e.k0s(),e.j41(7,"ion-card-subtitle"),e.EFF(8),e.nI1(9,"currency"),e.k0s()(),e.nrm(10,"ion-img",12),e.j41(11,"ion-card-content")(12,"p"),e.EFF(13),e.k0s()(),e.j41(14,"ion-button",13),e.EFF(15," More "),e.k0s()()()(),e.j41(16,"ion-row")(17,"ion-col",10)(18,"ion-list"),e.DNE(19,f,11,9,"ion-item",14),e.k0s()()()()),2&i){const o=e.XpG();e.R7$(6),e.JRh(o.relevantPlaces[0].title),e.R7$(2),e.SpI("",e.bMT(9,6,o.relevantPlaces[0].price)," / Night"),e.R7$(2),e.Y8G("src",o.relevantPlaces[0].imageUrl),e.R7$(3),e.JRh(o.relevantPlaces[0].description),e.R7$(),e.Y8G("routerLink",e.eq3(8,d,o.relevantPlaces[0].id)),e.R7$(5),e.Y8G("ngForOf",o.relevantPlaces.slice(1))}}const F=[{path:"",component:(()=>{var i;class s{constructor(t,l){this.placesService=t,this.authService=l,this.loadedPlaces=[],this.relevantPlaces=[],this.isLoading=!1}ngOnInit(){this.placesSub=this.placesService.places.subscribe(t=>{this.loadedPlaces=t,this.relevantPlaces=this.loadedPlaces})}ionViewWillEnter(){this.isLoading=!0,this.placesService.fetchPlaces().subscribe(()=>{this.isLoading=!1})}ngOnDestroy(){this.placesSub&&this.placesSub.unsubscribe()}onFilterUpdate(t){this.relevantPlaces="all"===t.detail.value?this.loadedPlaces:this.loadedPlaces.filter(l=>l.userId!==this.authService.userId)}}return(i=s).\u0275fac=function(t){return new(t||i)(e.rXU(v._),e.rXU(h.u))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-discover"]],standalone:!1,decls:17,vars:5,consts:[[3,"translucent"],["slot","start"],["menu","main-menu"],[3,"fullscreen"],["value","all",3,"ionChange"],["value","all"],["value","bookable"],[4,"ngIf"],["size","12","size-sm","8","offset-sm","2",1,"ion-text-center"],["name","bubbles"],["size","12","size-sm","8","offset-sm","2"],[1,"ion-text-center"],[3,"src"],["fill","clear","color","primary",3,"routerLink"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,l){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Discover Places"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-segment",4),e.bIt("ionChange",function(R){return l.onFilterUpdate(R)}),e.j41(8,"ion-segment-button",5)(9,"ion-label"),e.EFF(10,"All Places"),e.k0s()(),e.j41(11,"ion-segment-button",6)(12,"ion-label"),e.EFF(13,"Bookable Places"),e.k0s()()(),e.DNE(14,m,4,0,"ion-grid",7)(15,P,5,0,"ion-grid",7)(16,p,20,10,"ion-grid",7),e.k0s()),2&t&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading&&(!l.relevantPlaces||l.relevantPlaces.length<=0)),e.R7$(),e.Y8G("ngIf",!l.isLoading&&l.relevantPlaces.length>0))},dependencies:[r.Sq,r.bT,n.Jm,n.QW,n.b_,n.I9,n.ME,n.HW,n.tN,n.hU,n.W9,n.lO,n.eU,n.KW,n.uz,n.he,n.nf,n.MC,n.ln,n.Gp,n.eP,n.w2,n.Zx,n.BC,n.ai,n.Je,n.N7,c.Wk,r.oe],encapsulation:2}),s})()},{path:"place-detail",loadChildren:()=>a.e(2188).then(a.bind(a,2188)).then(i=>i.PlaceDetailPageModule)}];let b=(()=>{var i;class s{}return(i=s).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.iI.forChild(F),c.iI]}),s})(),D=(()=>{var i;class s{}return(i=s).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[r.MD,g.YN,n.bv,b]}),s})()}}]);